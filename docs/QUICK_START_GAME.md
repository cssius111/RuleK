# 🎮 RuleK 快速游戏指南

## 立即开始游戏

```bash
python src/cli_game.py
```

## 游戏流程

### 1. 主菜单
- 选择 **1** 开始新游戏
- 选择 **2** 加载存档
- 选择 **3** 退出

### 2. 新游戏设置
- 是否启用AI功能？
  - **y** = 启用（获得AI对话和规则解析）
  - **n** = 关闭（使用基础功能）

### 3. 准备阶段菜单
```
1. 创建/管理规则  ← 创建恐怖规则
2. 查看NPC状态    ← 查看角色状态
3. 切换控制模式   ← 幕后/亲自下场
4. 开始回合       ← 进入行动阶段
5. AI模式回合     ← AI自动运行（需启用AI）
6. 保存游戏       ← 保存进度
7. 返回主菜单     ← 退出游戏
```

## 创建规则的三种方式

### 方式1：自定义创建（新功能✨）
1. 选择"创建/管理规则" → "1. 创建新规则"
2. 按向导设置：
   - 输入规则名称（如："镜子诅咒"）
   - 选择触发条件（动作/时间/地点/物品）
   - 选择效果（死亡/恐惧/理智损失等）
   - 可选：设置破绽
3. 确认花费恐惧积分

### 方式2：模板创建（推荐👍）
1. 选择"创建/管理规则" → "2. 使用模板创建"
2. 查看可用模板列表
3. 输入编号选择模板
4. 确认创建

### 方式3：AI解析（需要启用AI🤖）
1. 选择"创建/管理规则" → "3. AI解析规则"
2. 用自然语言描述规则
   - 例如："晚上不能照镜子"
   - 例如："在走廊说话会被传送到地下室"
3. 查看AI解析结果
4. 确认创建

## 游戏小贴士

### 恐惧积分管理
- 创建规则需要消耗恐惧积分
- NPC触发规则会获得恐惧积分
- 平衡支出和收入是关键

### 规则设计技巧
- 简单规则成本低，容易触发
- 复杂规则效果强，但成本高
- 设置破绽可以降低成本
- 考虑NPC的行为模式

### AI功能优势
- 自动生成NPC对话
- 智能行动规划
- 回合叙事生成
- 自然语言规则解析

## 快速命令

### 测试修复是否成功
```bash
python test_fixes.py
```

### 验证AI功能
```bash
python fix_ai_issues.py
```

### 查看完整文档
- `AI_ISSUES_FIXED.md` - 修复详情
- `README.md` - 项目说明

## 常见问题

**Q: AI回合失败？**
A: 已修复turn_count问题，现在应该正常工作

**Q: 创建规则显示"不支持"？**
A: 使用新的自定义创建功能或模板创建

**Q: 没有API密钥？**
A: 系统会自动使用Mock模式，基本功能不受影响

---

祝游戏愉快！🎭 创造恐怖规则，收割恐惧吧！
