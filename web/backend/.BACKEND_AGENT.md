# ğŸŒ åç«¯Agent - åç«¯ä»£ç è§„åˆ™

## ç»§æ‰¿ä¸»Agentè§„åˆ™
å¿…é¡»å…ˆè¯»å– `/MAIN_AGENT.md`

## åç«¯ç‰¹å®šè§„åˆ™

### ç›®å½•ç»“æ„
```
web/backend/
â”œâ”€â”€ app.py           # ä¸»åº”ç”¨ï¼ˆä¸è¦åˆ›å»ºapp_new.pyï¼ï¼‰
â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”œâ”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”œâ”€â”€ api/            # APIè·¯ç”±
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â””â”€â”€ static/         # é™æ€æ–‡ä»¶
```

### åç«¯æ“ä½œè§„åˆ™

#### 1. ä¿®æ”¹ä¸»åº”ç”¨æ–‡ä»¶
```python
# âœ… æ­£ç¡® - ä¿®æ”¹app.py
1. read_file("web/backend/app.py")
2. edit_file("web/backend/app.py", changes)

# âŒ é”™è¯¯ - åˆ›å»ºæ–°æ–‡ä»¶
- app_enhanced.py
- app_with_websocket.py
- new_app.py
```

#### 2. æ·»åŠ æ–°æœåŠ¡
```python
# âœ… æ­£ç¡®ä½ç½®
web/backend/services/streaming_service.py  # å…·ä½“åŠŸèƒ½å‘½å

# âŒ é”™è¯¯ä½ç½®
web/backend/new_service.py  # ä¸åœ¨servicesç›®å½•
web/backend/service2.py     # æ— æ„ä¹‰çš„å‘½å
```

#### 3. APIè·¯ç”±è§„åˆ™
- è·¯ç”±æ–‡ä»¶æ”¾åœ¨ `api/` ç›®å½•
- RESTfulå‘½åï¼š`game_routes.py`
- WebSocket: `ws_routes.py`

### FastAPIç‰¹å®šè§„èŒƒ
```python
# å¯¼å…¥é¡ºåº
1. Pythonæ ‡å‡†åº“
2. FastAPIç›¸å…³
3. ç¬¬ä¸‰æ–¹åº“
4. é¡¹ç›®å†…éƒ¨æ¨¡å—

# è·¯ç”±å‘½å
@app.get("/api/games")      # å¤æ•°èµ„æº
@app.get("/api/game/{id}")  # å•ä¸ªèµ„æº
@app.websocket("/ws")        # WebSocketç«¯ç‚¹
```

### æœåŠ¡å±‚è§„èŒƒ
```python
# æœåŠ¡ç±»å‘½å
class GameService:      # âœ… æ­£ç¡®
class GameManager:      # âœ… ä¹Ÿå¯ä»¥
class game_service:     # âŒ ç±»åè¦å¤§å†™
class GameSvc:         # âŒ ä¸è¦ç¼©å†™
```

### ç¦æ­¢æ“ä½œ
- âŒ åˆ›å»º `run_server.py`ï¼ˆå·²æœ‰ app.pyï¼‰
- âŒ åˆ›å»º `main.py`ï¼ˆä½¿ç”¨ app.pyï¼‰
- âŒ åœ¨backendæ ¹ç›®å½•å †æ”¾æ–‡ä»¶ï¼ˆä½¿ç”¨å­ç›®å½•ï¼‰